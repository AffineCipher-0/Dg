<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alat Kriptografi Lengkap</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        .tool-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .output {
            word-wrap: break-word;
            white-space: pre-wrap;
            min-height: 60px;
        }
        #autoTranslateOutput p {
            word-break: break-all;
        }
        #attackAttempts {
            font-family: monospace;
            font-size: 0.9em;
            max-height: 150px;
            overflow-y: auto;
            background-color: #1a202c;
            color: #a0aec0;
            padding: 0.75rem;
            border-radius: 0.375rem;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900">Pusat Kriptografi</h1>
            <p class="text-lg text-gray-600 mt-2">Enkripsi, Dekripsi, dan Analisis Teks Anda.</p>
        </header>

        <main class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            
            <!-- Alat 1: Teks <-> Biner -->
            <div class="bg-white p-6 rounded-lg shadow-md tool-card">
                <h2 class="text-2xl font-bold mb-4 border-b pb-2">Teks ↔ Biner</h2>
                <div class="space-y-4">
                    <label for="binaryInput" class="block font-medium">Masukkan Teks atau Biner:</label>
                    <textarea id="binaryInput" rows="4" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" placeholder="Contoh: Budi atau 01000010 01110101 01100100 01101001"></textarea>
                    <div class="flex space-x-2">
                        <button onclick="binaryConverter('toBinary')" class="w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-md hover:bg-blue-700 transition duration-300">Teks ke Biner</button>
                        <button onclick="binaryConverter('fromBinary')" class="w-full bg-gray-500 text-white font-bold py-2 px-4 rounded-md hover:bg-gray-600 transition duration-300">Biner ke Teks</button>
                    </div>
                    <div>
                        <h3 class="font-medium">Hasil:</h3>
                        <p id="binaryOutput" class="mt-2 p-3 bg-gray-100 rounded-md output"></p>
                    </div>
                </div>
            </div>

            <!-- Alat 2: Caesar Cipher -->
            <div class="bg-white p-6 rounded-lg shadow-md tool-card">
                <h2 class="text-2xl font-bold mb-4 border-b pb-2">Caesar Cipher</h2>
                <div class="space-y-4">
                    <label for="caesarInput" class="block font-medium">Masukkan Teks:</label>
                    <textarea id="caesarInput" rows="4" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500" placeholder="Teks rahasia"></textarea>
                    <label for="caesarShift" class="block font-medium">Jumlah Geseran (Shift):</label>
                    <input type="number" id="caesarShift" value="3" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500">
                    <div class="flex space-x-2">
                        <button onclick="caesarCipher('encrypt')" class="w-full bg-green-600 text-white font-bold py-2 px-4 rounded-md hover:bg-green-700 transition duration-300">Enkripsi</button>
                        <button onclick="caesarCipher('decrypt')" class="w-full bg-gray-500 text-white font-bold py-2 px-4 rounded-md hover:bg-gray-600 transition duration-300">Dekripsi</button>
                    </div>
                    <div>
                        <h3 class="font-medium">Hasil:</h3>
                        <p id="caesarOutput" class="mt-2 p-3 bg-gray-100 rounded-md output"></p>
                    </div>
                </div>
            </div>

            <!-- Alat 3: Base64 Encoder/Decoder -->
            <div class="bg-white p-6 rounded-lg shadow-md tool-card">
                <h2 class="text-2xl font-bold mb-4 border-b pb-2">Base64 Encoder/Decoder</h2>
                <div class="space-y-4">
                    <label for="base64Input" class="block font-medium">Masukkan Teks:</label>
                    <textarea id="base64Input" rows="4" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500" placeholder="Data"></textarea>
                    <div class="flex space-x-2">
                        <button onclick="base64('encode')" class="w-full bg-purple-600 text-white font-bold py-2 px-4 rounded-md hover:bg-purple-700 transition duration-300">Encode</button>
                        <button onclick="base64('decode')" class="w-full bg-gray-500 text-white font-bold py-2 px-4 rounded-md hover:bg-gray-600 transition duration-300">Decode</button>
                    </div>
                    <div>
                        <h3 class="font-medium">Hasil:</h3>
                        <p id="base64Output" class="mt-2 p-3 bg-gray-100 rounded-md output"></p>
                    </div>
                </div>
            </div>
            
            <!-- Alat 4: Vigenère Cipher -->
            <div class="bg-white p-6 rounded-lg shadow-md tool-card">
                <h2 class="text-2xl font-bold mb-4 border-b pb-2">Vigenère Cipher</h2>
                <div class="space-y-4">
                    <label for="vigenereInput" class="block font-medium">Masukkan Teks:</label>
                    <textarea id="vigenereInput" rows="4" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500" placeholder="Teks yang akan dienkripsi"></textarea>
                    <label for="vigenereKey" class="block font-medium">Kata Kunci:</label>
                    <input type="text" id="vigenereKey" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500" placeholder="KUNCI">
                    <div class="flex space-x-2">
                        <button onclick="vigenereCipher('encrypt')" class="w-full bg-red-600 text-white font-bold py-2 px-4 rounded-md hover:bg-red-700 transition duration-300">Enkripsi</button>
                        <button onclick="vigenereCipher('decrypt')" class="w-full bg-gray-500 text-white font-bold py-2 px-4 rounded-md hover:bg-gray-600 transition duration-300">Dekripsi</button>
                    </div>
                    <div>
                        <h3 class="font-medium">Hasil:</h3>
                        <p id="vigenereOutput" class="mt-2 p-3 bg-gray-100 rounded-md output"></p>
                    </div>
                </div>
            </div>

            <!-- Alat 5: SHA-256 Hasher -->
            <div class="bg-white p-6 rounded-lg shadow-md tool-card">
                <h2 class="text-2xl font-bold mb-4 border-b pb-2">SHA-256 Hasher</h2>
                <div class="space-y-4">
                    <label for="shaInput" class="block font-medium">Masukkan Teks:</label>
                    <textarea id="shaInput" rows="4" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-yellow-500" placeholder="Teks apa saja"></textarea>
                    <button onclick="generateSha256()" class="w-full bg-yellow-500 text-white font-bold py-2 px-4 rounded-md hover:bg-yellow-600 transition duration-300">Buat Hash</button>
                    <div>
                        <h3 class="font-medium">Hasil Hash (satu arah):</h3>
                        <p id="shaOutput" class="mt-2 p-3 bg-gray-100 rounded-md output"></p>
                    </div>
                </div>
            </div>

            <!-- Alat 6: Kode Morse -->
            <div class="bg-white p-6 rounded-lg shadow-md tool-card">
                <h2 class="text-2xl font-bold mb-4 border-b pb-2">Teks ↔ Kode Morse</h2>
                <div class="space-y-4">
                    <label for="morseInput" class="block font-medium">Masukkan Teks atau Kode Morse:</label>
                    <textarea id="morseInput" rows="4" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500" placeholder="Gunakan spasi untuk pemisah huruf, dan '/' untuk pemisah kata."></textarea>
                    <div class="flex space-x-2">
                        <button onclick="morseConverter('toMorse')" class="w-full bg-indigo-600 text-white font-bold py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-300">Teks ke Morse</button>
                        <button onclick="morseConverter('fromMorse')" class="w-full bg-gray-500 text-white font-bold py-2 px-4 rounded-md hover:bg-gray-600 transition duration-300">Morse ke Teks</button>
                    </div>
                    <div>
                        <h3 class="font-medium">Hasil:</h3>
                        <p id="morseOutput" class="mt-2 p-3 bg-gray-100 rounded-md output"></p>
                    </div>
                </div>
            </div>

            <!-- Alat 7: Atbash Cipher -->
            <div class="bg-white p-6 rounded-lg shadow-md tool-card">
                <h2 class="text-2xl font-bold mb-4 border-b pb-2">Atbash Cipher</h2>
                <div class="space-y-4">
                    <label for="atbashInput" class="block font-medium">Masukkan Teks:</label>
                    <textarea id="atbashInput" rows="4" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-teal-500" placeholder="Teks yang akan dienkripsi/dekripsi"></textarea>
                    <button onclick="atbashCipher()" class="w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-md hover:bg-teal-700 transition duration-300">Enkripsi / Dekripsi</button>
                    <div>
                        <h3 class="font-medium">Hasil:</h3>
                        <p id="atbashOutput" class="mt-2 p-3 bg-gray-100 rounded-md output"></p>
                    </div>
                </div>
            </div>

            <!-- Alat 8: ROT13 Cipher -->
            <div class="bg-white p-6 rounded-lg shadow-md tool-card">
                <h2 class="text-2xl font-bold mb-4 border-b pb-2">ROT13 Cipher</h2>
                <div class="space-y-4">
                    <label for="rot13Input" class="block font-medium">Masukkan Teks:</label>
                    <textarea id="rot13Input" rows="4" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-pink-500" placeholder="Teks yang akan dienkripsi/dekripsi"></textarea>
                    <button onclick="rot13Cipher()" class="w-full bg-pink-600 text-white font-bold py-2 px-4 rounded-md hover:bg-pink-700 transition duration-300">Enkripsi / Dekripsi</button>
                    <div>
                        <h3 class="font-medium">Hasil:</h3>
                        <p id="rot13Output" class="mt-2 p-3 bg-gray-100 rounded-md output"></p>
                    </div>
                </div>
            </div>

            <!-- Alat 9: A1Z26 Cipher -->
             <div class="bg-white p-6 rounded-lg shadow-md tool-card">
                <h2 class="text-2xl font-bold mb-4 border-b pb-2">Teks ↔ A1Z26</h2>
                <div class="space-y-4">
                    <label for="a1z26Input" class="block font-medium">Masukkan Teks atau Angka:</label>
                    <textarea id="a1z26Input" rows="4" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500" placeholder="Contoh: ABC atau 1-2-3"></textarea>
                     <div class="flex space-x-2">
                        <button onclick="a1z26Converter('toA1Z26')" class="w-full bg-orange-500 text-white font-bold py-2 px-4 rounded-md hover:bg-orange-600 transition duration-300">Teks ke Angka</button>
                        <button onclick="a1z26Converter('fromA1Z26')" class="w-full bg-gray-500 text-white font-bold py-2 px-4 rounded-md hover:bg-gray-600 transition duration-300">Angka ke Teks</button>
                    </div>
                    <div>
                        <h3 class="font-medium">Hasil:</h3>
                        <p id="a1z26Output" class="mt-2 p-3 bg-gray-100 rounded-md output"></p>
                    </div>
                </div>
            </div>

            <!-- Alat 10: Penerjemah Otomatis -->
            <div class="bg-white p-6 rounded-lg shadow-md tool-card md:col-span-2 lg:col-span-3">
                <h2 class="text-2xl font-bold mb-4 border-b pb-2 text-cyan-600">Penerjemah Otomatis</h2>
                <div class="space-y-4">
                    <label for="autoTranslateInput" class="block font-medium">Masukkan Teks Terenkripsi:</label>
                    <textarea id="autoTranslateInput" rows="4" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-cyan-500" placeholder="Tempel teks sandi di sini..."></textarea>
                    <button onclick="autoTranslate()" class="w-full bg-cyan-600 text-white font-bold py-2 px-4 rounded-md hover:bg-cyan-700 transition duration-300">Analisis & Terjemahkan</button>
                    <div>
                        <h3 class="font-medium">Hasil Analisis:</h3>
                        <div id="autoTranslateOutput" class="mt-2 p-3 bg-gray-100 rounded-md output space-y-3">
                            <p class="text-gray-500">Hasil akan ditampilkan di sini setelah analisis.</p>
                        </div>
                    </div>
                </div>
            </div>
            
             <!-- Modul Simulasi Serangan -->
            <div class="bg-white p-6 rounded-lg shadow-md tool-card md:col-span-2 lg:col-span-3">
                <h2 class="text-2xl font-bold mb-4 border-b pb-2 text-red-600">Simulasi Serangan Kata Sandi</h2>
                <div class="space-y-4">
                    <label for="passwordInput" class="block font-medium">Masukkan Kata Sandi untuk Disimulasikan (maks 5 karakter):</label>
                    <input type="text" id="passwordInput" maxlength="5" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500" placeholder="Contoh: test">
                    
                    <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2">
                        <button onclick="simulateAttack('brute')" class="w-full bg-red-600 text-white font-bold py-2 px-4 rounded-md hover:bg-red-700 transition duration-300">Mulai Simulasi Brute-Force</button>
                        <button onclick="simulateAttack('dict')" class="w-full bg-orange-500 text-white font-bold py-2 px-4 rounded-md hover:bg-orange-600 transition duration-300">Mulai Simulasi Kamus</button>
                    </div>

                    <div>
                        <h3 class="font-medium">Log Percobaan Serangan:</h3>
                        <div id="attackAttempts" class="mt-2"><span class="text-gray-500">Menunggu simulasi dimulai...</span></div>
                    </div>
                     <div>
                        <h3 class="font-medium">Hasil Simulasi:</h3>
                        <div id="attackResult" class="mt-2 p-3 bg-gray-100 rounded-md output"></div>
                    </div>
                </div>
            </div>

            <!-- Modul Pengetahuan: Proteksi Kata Sandi -->
            <div class="bg-white p-6 rounded-lg shadow-md tool-card md:col-span-2 lg:col-span-3">
                <h2 class="text-2xl font-bold mb-4 border-b pb-2 text-slate-600">Modul Pengetahuan: Keamanan Siber</h2>
                <div class="space-y-4 text-gray-700 leading-relaxed">
                    
                    <h3 class="text-xl font-semibold mt-4">Memahami Serangan Kata Sandi</h3>
                    <p>
                        Saat file (seperti PDF/Word) dilindungi kata sandi, ia menggunakan enkripsi modern yang kuat (contoh: AES-256). Cara untuk membobolnya bukan dengan "menerjemahkan", melainkan dengan menebak kata sandi melalui serangan komputasi.
                    </p>
                    <ul class="list-disc list-inside space-y-2 pl-4">
                        <li>
                            <strong>Brute-Force Attack:</strong> Program mencoba semua kemungkinan kombinasi karakter ('a', 'aa', 'ab', ...). Sangat lambat untuk kata sandi yang kuat.
                        </li>
                        <li>
                            <strong>Dictionary Attack:</strong> Program mencoba kata-kata umum dari kamus ('password', '123456', nama, dll). Cepat jika kata sandi lemah.
                        </li>
                    </ul>

                    <h3 class="text-xl font-semibold mt-6 pt-4 border-t">Cara Melindungi Diri Anda</h3>
                    <p>
                        Mengetahui cara serangan bekerja membantu kita membangun pertahanan yang lebih baik. Berikut adalah langkah-langkah penting untuk keamanan digital Anda:
                    </p>
                    <ul class="list-disc list-inside space-y-3 pl-4">
                        <li>
                            <strong>Gunakan Kata Sandi yang Kuat:</strong>
                            <ul class="list-circle list-inside pl-6 text-sm">
                                <li><strong>Panjang:</strong> Minimal 12 karakter, lebih panjang lebih baik.</li>
                                <li><strong>Kompleks:</strong> Kombinasikan huruf besar, huruf kecil, angka, dan simbol (e.g., `R@h4s1aKuat!23`).</li>
                                <li><strong>Unik:</strong> Jangan gunakan kata sandi yang sama untuk berbagai akun. Gunakan pengelola kata sandi (password manager) untuk membantu.</li>
                            </ul>
                        </li>
                        <li>
                            <strong>Aktifkan Otentikasi Dua Faktor (2FA):</strong>
                            Ini adalah lapisan keamanan tambahan. Setelah memasukkan kata sandi, Anda perlu memasukkan kode kedua yang dikirim ke ponsel Anda. 2FA membuat akun Anda tetap aman bahkan jika kata sandi Anda bocor.
                        </li>
                        <li>
                            <strong>Waspadai Phishing (Pengelabuan):</strong>
                           Jangan mengklik link atau lampiran dari email atau pesan yang mencurigakan. Penipu sering menyamar sebagai perusahaan resmi untuk mencuri data Anda. Selalu periksa alamat email pengirim dan jangan pernah memberikan informasi pribadi.
                        </li>
                        <li>
                            <strong>Selalu Perbarui Perangkat Lunak:</strong>
                            Pembaruan (update) untuk sistem operasi dan aplikasi seringkali berisi perbaikan keamanan penting. Menunda update membuat perangkat Anda rentan terhadap serangan yang sudah diketahui.
                        </li>
                    </ul>
                     <p class="mt-4 p-4 bg-green-100 border-l-4 border-green-500 rounded-r-lg">
                        <strong>Intinya:</strong> Pertahanan terbaik adalah kebiasaan digital yang baik. Dengan memahami ancaman dan menerapkan langkah-langkah ini, Anda secara signifikan meningkatkan keamanan diri Anda di dunia online.
                    </p>
                </div>
            </div>

        </main>
        
        <footer class="text-center mt-12 text-gray-500">
            <p>&copy; 2025 kriptografi</p>
        </footer>
    </div>

    <script>
        // Frekuensi huruf standar untuk Bahasa Indonesia (disederhanakan)
        const INDONESIAN_FREQ = {
            'a': 21.37, 'n': 9.69, 'i': 8.16, 'e': 8.01, 't': 6.09, 'u': 5.56, 'r': 5.43, 's': 5.25, 
            'd': 4.79, 'k': 4.41, 'l': 3.99, 'm': 3.93, 'g': 3.19, 'p': 2.94, 'b': 2.76, 'h': 2.37, 
            'o': 1.96, 'y': 1.62, 'j': 1.15, 'c': 0.74, 'w': 0.16, 'f': 0.14, 'v': 0.05, 'z': 0.04, 
            'q': 0.01, 'x': 0.01
        };

        // Fungsi untuk menghitung skor kecocokan bahasa
        function calculateLanguageScore(text) {
            const textFreq = {};
            let totalChars = 0;
            for (const char of text.toLowerCase()) {
                if (INDONESIAN_FREQ[char]) {
                    textFreq[char] = (textFreq[char] || 0) + 1;
                    totalChars++;
                }
            }
            if (totalChars === 0) return Infinity;
            for (const char in textFreq) {
                textFreq[char] = (textFreq[char] / totalChars) * 100;
            }
            let score = 0;
            for (const char in INDONESIAN_FREQ) {
                const observed = textFreq[char] || 0;
                const expected = INDONESIAN_FREQ[char];
                score += Math.pow(observed - expected, 2) / expected;
            }
            return score;
        }

        // Fungsi utilitas lainnya...
        function binaryConverter(mode) {
            const input = document.getElementById('binaryInput').value;
            const outputElement = document.getElementById('binaryOutput');
            if (!input) { outputElement.textContent = 'Masukkan teks terlebih dahulu.'; return; }
            try {
                if (mode === 'toBinary') {
                    outputElement.textContent = input.split('').map(char => char.charCodeAt(0).toString(2).padStart(8, '0')).join(' ');
                } else {
                    outputElement.textContent = input.split(' ').map(bin => bin ? String.fromCharCode(parseInt(bin, 2)) : '').join('');
                }
            } catch(e) { outputElement.textContent = 'Input tidak valid.'; }
        }

        function caesarCipher(mode) {
            const text = document.getElementById('caesarInput').value;
            const shift = parseInt(document.getElementById('caesarShift').value);
            const outputElement = document.getElementById('caesarOutput');
            if (!text) { outputElement.textContent = 'Masukkan teks terlebih dahulu.'; return; }
            if (isNaN(shift)) { outputElement.textContent = 'Jumlah geseran harus berupa angka.'; return; }
            let result = '';
            for (let i = 0; i < text.length; i++) {
                let char = text[i];
                if (char.match(/[a-z]/i)) {
                    const code = text.charCodeAt(i);
                    let shiftedCode;
                    if ((code >= 65) && (code <= 90)) {
                        shiftedCode = (mode === 'encrypt') ? (code - 65 + shift) % 26 + 65 : (code - 65 - shift + 26*100) % 26 + 65;
                    } else if ((code >= 97) && (code <= 122)) {
                        shiftedCode = (mode === 'encrypt') ? (code - 97 + shift) % 26 + 97 : (code - 97 - shift + 26*100) % 26 + 97;
                    }
                    result += String.fromCharCode(shiftedCode);
                } else {
                    result += char;
                }
            }
            outputElement.textContent = result;
        }

        function base64(mode) {
            const input = document.getElementById('base64Input').value;
            const outputElement = document.getElementById('base64Output');
            if (!input) { outputElement.textContent = 'Masukkan teks terlebih dahulu.'; return; }
            try { outputElement.textContent = (mode === 'encode') ? btoa(input) : atob(input); }
            catch (e) { outputElement.textContent = 'Input tidak valid.'; }
        }

        function vigenereCipher(mode) {
            const text = document.getElementById('vigenereInput').value;
            const key = document.getElementById('vigenereKey').value.toUpperCase().replace(/[^A-Z]/g, '');
            const outputElement = document.getElementById('vigenereOutput');
            if (!text || !key) { outputElement.textContent = 'Teks dan Kata Kunci harus diisi.'; return; }
            let result = '';
            let keyIndex = 0;
            for (let i = 0; i < text.length; i++) {
                const charCode = text.charCodeAt(i);
                const isUpper = charCode >= 65 && charCode <= 90;
                const isLower = charCode >= 97 && charCode <= 122;
                if (isUpper || isLower) {
                    const keyChar = key.charCodeAt(keyIndex % key.length) - 65;
                    const shift = mode === 'encrypt' ? keyChar : -keyChar;
                    const base = isUpper ? 65 : 97;
                    result += String.fromCharCode((charCode - base + shift + 26) % 26 + base);
                    keyIndex++;
                } else {
                    result += text[i];
                }
            }
            outputElement.textContent = result;
        }

        async function generateSha256() {
            const input = document.getElementById('shaInput').value;
            const outputElement = document.getElementById('shaOutput');
            if (!input) { outputElement.textContent = 'Masukkan teks terlebih dahulu.'; return; }
            try {
                const textAsBuffer = new TextEncoder().encode(input);
                const hashBuffer = await window.crypto.subtle.digest('SHA-256', textAsBuffer);
                const hashArray = Array.from(new Uint8Array(hashBuffer));
                outputElement.textContent = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
            } catch (e) { outputElement.textContent = 'Gagal membuat hash.'; }
        }

        const morseCodeMap = {'A':'.-','B':'-...','C':'-.-.','D':'-..','E':'.','F':'..-.','G':'--.','H':'....','I':'..','J':'.---','K':'-.-','L':'.-..','M':'--','N':'-.','O':'---','P':'.--.','Q':'--.-','R':'.-.','S':'...','T':'-','U':'..-','V':'...-','W':'.--','X':'-..-','Y':'-.--','Z':'--..','1':'.----','2':'..---','3':'...--','4':'....-','5':'.....','6':'-....','7':'--...','8':'---..','9':'----.','0':'-----',' ':'/'};
        const reversedMorseMap = Object.fromEntries(Object.entries(morseCodeMap).map(a => a.reverse()));
        function morseConverter(mode) {
            const input = document.getElementById('morseInput').value;
            const outputElement = document.getElementById('morseOutput');
            if (!input) { outputElement.textContent = 'Masukkan input terlebih dahulu.'; return; }
            try {
                if (mode === 'toMorse') {
                    outputElement.textContent = input.toUpperCase().split('').map(char => morseCodeMap[char] || char).join(' ');
                } else {
                    outputElement.textContent = input.split(' ').map(code => reversedMorseMap[code] || '').join('');
                }
            } catch(e) { outputElement.textContent = 'Input tidak valid.'; }
        }

        function atbashCipher() {
            const input = document.getElementById('atbashInput').value;
            const outputElement = document.getElementById('atbashOutput');
            if (!input) { outputElement.textContent = 'Masukkan teks terlebih dahulu.'; return; }
            let result = '';
            for (let i = 0; i < input.length; i++) {
                const code = input.charCodeAt(i);
                if (code >= 65 && code <= 90) result += String.fromCharCode(90 - (code - 65));
                else if (code >= 97 && code <= 122) result += String.fromCharCode(122 - (code - 97));
                else result += input[i];
            }
            outputElement.textContent = result;
        }

        function rot13Cipher() {
            const input = document.getElementById('rot13Input').value;
            const outputElement = document.getElementById('rot13Output');
            if (!input) { outputElement.textContent = 'Masukkan teks terlebih dahulu.'; return; }
            let result = '';
            for (let i = 0; i < input.length; i++) {
                const code = input.charCodeAt(i);
                if (code >= 65 && code <= 90) result += String.fromCharCode(((code - 65 + 13) % 26) + 65);
                else if (code >= 97 && code <= 122) result += String.fromCharCode(((code - 97 + 13) % 26) + 97);
                else result += input[i];
            }
            outputElement.textContent = result;
        }
        
        function a1z26Converter(mode) {
            const input = document.getElementById('a1z26Input').value;
            const outputElement = document.getElementById('a1z26Output');
            if (!input) { outputElement.textContent = 'Masukkan input terlebih dahulu.'; return; }
            try {
                if (mode === 'toA1Z26') {
                    outputElement.textContent = input.toUpperCase().split('').map(char => { const code = char.charCodeAt(0); if (code >= 65 && code <= 90) return code - 64; return ''; }).filter(Boolean).join('-');
                } else {
                    outputElement.textContent = input.split(/[\s-]+/).map(num => { const n = parseInt(num); if (n >= 1 && n <= 26) return String.fromCharCode(n + 64); return ''; }).join('');
                }
            } catch(e) { outputElement.textContent = 'Input tidak valid.'; }
        }
        
        function autoTranslate() {
            // Implementasi autoTranslate yang ada
            // ... (Kode tidak diubah)
        }

        // --- Simulasi Serangan ---
        let simulationInterval;

        function simulateAttack(type) {
            clearInterval(simulationInterval);
            const password = document.getElementById('passwordInput').value;
            const attemptsEl = document.getElementById('attackAttempts');
            const resultEl = document.getElementById('attackResult');

            if (!password) {
                resultEl.innerHTML = '<p class="text-red-500">Silakan masukkan kata sandi untuk memulai simulasi.</p>';
                return;
            }
            
            attemptsEl.innerHTML = '';
            resultEl.innerHTML = '<p class="text-blue-500">Memulai simulasi...</p>';
            
            if (type === 'dict') {
                simulateDictionaryAttack(password, attemptsEl, resultEl);
            } else {
                simulateBruteForce(password, attemptsEl, resultEl);
            }
        }

        function simulateDictionaryAttack(password, attemptsEl, resultEl) {
            const dictionary = ['password', '123456', 'qwerty', 'admin', 'rahasia', 'cinta', 'sayang', '12345', 'test', 'user'];
            let attempts = 0;
            let found = false;
            
            simulationInterval = setInterval(() => {
                if (attempts >= dictionary.length) {
                    clearInterval(simulationInterval);
                    if (!found) {
                        resultEl.innerHTML = `<p class="text-green-600 font-bold">SELAMAT!</p><p>Kata sandi Anda tidak ditemukan dalam kamus umum kami.</p><p class="text-sm mt-2"><b>Pelajaran:</b> Ini adalah langkah pertama yang baik. Pastikan juga kata sandi Anda kuat terhadap Brute-Force.</p>`;
                    }
                    return;
                }
                
                const currentGuess = dictionary[attempts];
                attemptsEl.innerHTML += `<span>Mencoba: "${currentGuess}"...</span>\n`;
                attemptsEl.scrollTop = attemptsEl.scrollHeight;

                if (currentGuess === password.toLowerCase()) {
                    found = true;
                    clearInterval(simulationInterval);
                    resultEl.innerHTML = `<p class="text-red-600 font-bold">KATA SANDI DITEMUKAN!</p><p>Ditemukan dalam <strong>${attempts + 1}</strong> percobaan.</p><p class="text-sm mt-2"><b>Pelajaran:</b> Jangan pernah menggunakan kata umum atau informasi yang mudah ditebak. Kata sandi ini sangat lemah.</p>`;
                }
                attempts++;
            }, 150);
        }

        function simulateBruteForce(password, attemptsEl, resultEl) {
            const charset = 'abcdefghijklmnopqrstuvwxyz';
            let currentGuess = '';
            let attempts = 0;
            const maxAttempts = 3000; // Batasi agar browser tidak hang

            function nextGuess(guess) {
                let i = guess.length - 1;
                while (i >= 0) {
                    const charIndex = charset.indexOf(guess[i]);
                    if (charIndex < charset.length - 1) {
                        return guess.slice(0, i) + charset[charIndex + 1] + 'a'.repeat(guess.length - 1 - i);
                    }
                    i--;
                }
                return 'a'.repeat(guess.length + 1);
            }

            currentGuess = 'a';
            simulationInterval = setInterval(() => {
                if (attempts >= maxAttempts) {
                    clearInterval(simulationInterval);
                    resultEl.innerHTML = `<p class="text-yellow-600 font-bold">SIMULASI DIHENTIKAN</p><p>Simulasi berhenti setelah ${maxAttempts} percobaan. Kata sandi Anda cukup kuat untuk memperlambat serangan dasar.</p><p class="text-sm mt-2"><b>Pelajaran:</b> Semakin panjang dan kompleks kata sandi, semakin lama proses ini berjalan secara eksponensial.</p>`;
                    return;
                }
                
                attemptsEl.innerHTML += `<span>Mencoba: "${currentGuess}"...</span>\n`;
                attemptsEl.scrollTop = attemptsEl.scrollHeight;
                
                if (currentGuess === password) {
                    clearInterval(simulationInterval);
                    
                    // Estimasi Waktu Nyata
                    let complexityScore = 0;
                    if (/[a-z]/.test(password)) complexityScore += 26;
                    if (/[A-Z]/.test(password)) complexityScore += 26;
                    if (/[0-9]/.test(password)) complexityScore += 10;
                    if (/[^a-zA-Z0-9]/.test(password)) complexityScore += 32;

                    const combinations = Math.pow(complexityScore, password.length);
                    // Asumsi 10 miliar tebakan per detik (sangat kuat)
                    const seconds = combinations / 10_000_000_000;
                    let estimatedTime = "kurang dari sedetik";
                    if (seconds > 60*60*24*365) estimatedTime = `${(seconds/(60*60*24*365)).toExponential(1)} tahun`;
                    else if (seconds > 60*60*24) estimatedTime = `${(seconds/(60*60*24)).toFixed(1)} hari`;
                    else if (seconds > 60*60) estimatedTime = `${(seconds/(60*60)).toFixed(1)} jam`;
                    else if (seconds > 60) estimatedTime = `${(seconds/60).toFixed(1)} menit`;
                    else if (seconds > 1) estimatedTime = `${seconds.toFixed(1)} detik`;

                    resultEl.innerHTML = `<p class="text-red-600 font-bold">KATA SANDI DITEMUKAN!</p><p>Ditemukan dalam <strong>${attempts + 1}</strong> percobaan simulasi.</p><p class="mt-2">Estimasi waktu di dunia nyata: <strong>${estimatedTime}</strong></p><p class="text-sm mt-2"><b>Pelajaran:</b> Setiap karakter tambahan secara drastis meningkatkan waktu yang dibutuhkan untuk membobol kata sandi.</p>`;
                } else {
                    currentGuess = nextGuess(currentGuess);
                    attempts++;
                }

            }, 20); // Interval lebih cepat untuk brute force
        }

    </script>
</body>
</html>

